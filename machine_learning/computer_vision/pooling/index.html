<!DOCTYPE html>
<html lang="en">

<head>

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66582-32"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-66582-32');
    </script>

    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta property="og:title" content="Pooling" />
<meta property="og:description" content="Pooling is a technique used to efficiently reduce dimensionality, and therefore complexity and computation.
It involves sectioning off your original image and applying some reductive function to the values in those cells. Just like convolution, we can set filter size and stride hyperparameters to adjust the output size.
Example: Applying np.max() to the values
from IPython.display import Image Image(&#39;images/pooling.png&#39;) Max Pooling is the preferred method over any other calculation (e." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://napsterinblue.github.io/notes/machine_learning/computer_vision/pooling/" />



<meta property="article:published_time" content="2018-09-24T00:00:00&#43;00:00"/>

<meta property="article:modified_time" content="2018-09-24T00:00:00&#43;00:00"/>











<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Pooling"/>
<meta name="twitter:description" content="Pooling is a technique used to efficiently reduce dimensionality, and therefore complexity and computation.
It involves sectioning off your original image and applying some reductive function to the values in those cells. Just like convolution, we can set filter size and stride hyperparameters to adjust the output size.
Example: Applying np.max() to the values
from IPython.display import Image Image(&#39;images/pooling.png&#39;) Max Pooling is the preferred method over any other calculation (e."/>
<meta name="generator" content="Hugo 0.40.3" />

    
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "Pooling",
  "url": "https://napsterinblue.github.io/notes/machine_learning/computer_vision/pooling/",
  "wordCount": "330",
  "datePublished": "2018-09-24T00:00:00&#43;00:00",
  "dateModified": "2018-09-24T00:00:00&#43;00:00",
  "author": {
    "@type": "Person",
    "name": ""
  }
}
</script> 

    <title>Pooling</title>

    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb"
        crossorigin="anonymous">

    
    <link href="https://napsterinblue.github.io/notes/css/custom.css" rel="stylesheet">
    <link href="https://napsterinblue.github.io/notes/css/syntax.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Muli:400,500,700" rel="stylesheet">

    <link href="" rel="alternate" type="application/rss+xml" title="Data Science Notes" />

    <script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[','\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre','code'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});
</script>

</head>

<body>

    <nav class="navbar navbar-expand-sm fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="https://napsterinblue.github.io">Movies, Metrics, Musings</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="nav navbar-nav mr-auto"></ul>
                <ul class="nav navbar-nav">
                    <li><a href="https://napsterinblue.github.io/pages/about.html" title="About">About</a></li>
                    <li><a href="https://napsterinblue.github.io/archives.html" title="Archive">Archive</a></li>
                    <li><a href="https://napsterinblue.github.io/pages/resources.html" title="Resources">Resources</a></li>
                    <li><a href="https://napsterinblue.github.io/notes/" title="Notes">My Notes</a></li>

                </ul>
            </div>
        </div>
    </nav>


    
    <div class="container">
        <div class="row">
            <div class="col-sm-12">

                 


<article>
  <div class="technical_note">
  <header>
    <h1 class="technical_note_title">Pooling</h1>
    <div class="technical_note_date">
      <time datetime=" 2018-09-24T00:00:00Z "> 24 Sep 2018</time>
    </div>
  </header>
  <div class="content">
  

<p>Pooling is a technique used to efficiently reduce dimensionality, and therefore complexity and computation.</p>

<p>It involves sectioning off your original image and applying some reductive function to the values in those cells. Just like convolution, we can set <em>filter size</em> and <em>stride</em> hyperparameters to adjust the output size.</p>

<p>Example: Applying <code>np.max()</code> to the values</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Image</span>

<span class="n">Image</span><span class="p">(</span><span class="s1">&#39;images/pooling.png&#39;</span><span class="p">)</span></code></pre></div>
<p><img src="pooling_2_0.png" alt="png" /></p>

<p>Max Pooling is the preferred method over any other calculation (e.g. average).</p>

<p>And as a nice side-effect to this, there&rsquo;s no parameters to learn to teach the network &ldquo;how to take the max of something&rdquo;&ndash; this is wholesale a helpful dimensionality-reduction technique.</p>

<h2 id="translation-invariance">Translation Invariance</h2>

<p>Recall that the convolution operation is comprised of two things:</p>

<ul>
<li>A sliding operator, local to different areas in an image</li>
<li>An element-wise product and sum over that area</li>
</ul>

<p>Because the sum isn&rsquo;t all-or-nothing, you may apply a filter to a section of an image to different results, depending on how much of your area of interest is caught by the filter. For instance</p>

<pre><code>1  3  1
2  8  2
1  3  1
</code></pre>

<p>In this example, if you were max pooling over a <code>3x3</code> area, it wouldn&rsquo;t matter if your image was translated a bit in any direction, because the <code>8</code> value would still be in the same maximum value for this filter.</p>

<h3 id="translation-tolerance-across-layers">Translation Tolerance Across Layers</h3>

<p>Typically, when we think about size and convolution, we think about shrinking and dimensionality reduction.</p>

<p>However, take a minute to start at the end and consider how much of the original image (as a percentage of area) informs activations in the later layers.</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Image</span>

<span class="n">Image</span><span class="p">(</span><span class="s1">&#39;images/translation_tolerance.png&#39;</span><span class="p">)</span></code></pre></div>
<p><img src="pooling_9_0.png" alt="png" /></p>

<p>This illustration should help reinforce some intuition that the deeper the convolutional layer, the <em>more of the original image</em> is considered.</p>

<p>Therefore, as a simple example, if you had a cat-image classifier, your early feature detectors (edges, hue shifts, etc) would span the entire image, but regardless of where the cat was in the image, the later layers would combine earlier features appropriately.</p>

</div>
  <aside>
      <div class="bug_reporting">
          <h4>Find an error or bug?</h4>
          <p>Everything on this site is available on GitHub. Head to <a href='https://github.com/napsterinblue/notes/issues/new'>and submit a suggested change</a>. You can also message me directly on <a href='https://twitter.com/napsterinblue'>Twitter</a>.</p>
      </div>
      </aside>

    </div>
</article>




            </div>

        </div>
    </div>

    

    <footer class="footer text-center">
        <div class="container">
            <span class="text-muted">This project contains 185 pages and is available on <a href="https://github.com/napsterinblue/notes">GitHub</a>. Copyright &copy; NapsterInBlue, <time datetime="2018">2018</time>.</span>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ"
        crossorigin="anonymous"></script>

</body>

</html>
